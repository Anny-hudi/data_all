# Amazon Analyst 综合项目说明

## 项目概述

**Amazon Analyst** 是一个专业的AI驱动Amazon运营分析平台。该平台集成了库存管理、AI分析、数据同步和RPA自动化等多个系统，为Amazon卖家提供全方位的运营支持。

### 核心价值
- **AI驱动的Amazon运营分析** - 24/7智能监控和分析
- **多维度库存管理** - 实时库存状态追踪和预警
- **自动化RPA工具集** - Pipiads美妆个护产品开发自动化

---

## 技术架构

### 前端技术栈
```
前端框架
├── Next.js 15 (App Router) - 现代化React框架
├── React 19 - 用户界面库
├── TypeScript - 类型安全语言
└── Tailwind CSS - 样式框架

UI组件库
├── Shadcn UI - 组件库
├── Radix UI - 底层UI组件
├── Framer Motion - 动画库
└── Lucide React - 图标库

数据库
├── PostgreSQL - 主数据库
├── Drizzle ORM - 类型安全ORM
├── AWS S3 - 文件存储
└── SQLite - RPA本地存储

AI集成
├── Vercel AI SDK - AI框架支持
├── DeepSeek API - 主要AI服务提供商
├── OpenAI - 备用AI服务
└── 自定义Prompt - 专业AI推理框架

认证服务
├── NextAuth.js v5 - 身份认证
├── Google/GitHub OAuth - 第三方登录
├── Stripe - 支付处理
└── 用户权限管理 - 角色权限控制

自动化工具
    ├── Python RPA系统 - Pipiads自动化
    ├── Selenium WebDriver - Web自动化
    ├── APScheduler - 任务调度
    └── pandas/numpy - 数据处理
```

### 系统架构图
```
┌─────────────────────────┐    ┌─────────────────────────┐    ┌─────────────────────────┐
│   用户界面层             │    │    业务逻辑层            │    │    数据存储层            │
├─────────────────────────┤    ├─────────────────────────┤    ├─────────────────────────┤
│ ▸ Next.js前端           │    │ ▸ API Routes            │    │ ▸ PostgreSQL            │
│ ▸ React组件             │    │ ▸ 服务层                │    │ ▸ AWS S3                │
│ ▸ Shadcn UI             │    │ ▸ 验证层                │    │ ▸ 本地缓存              │
│ ▸ 响应式设计            │    │ ▸ 数据转换              │    │ ▸ 备份存储              │
└─────────────────────────┘    └─────────────────────────┘    └─────────────────────────┘
         │                               │                               │
         └─────────────────┌─────────────────────────┐─────────────────┘
                           │   AI服务层              │
                           ├─────────────────────────┤
                           │ ▸ DeepSeek AI           │
                           │ ▸ 智能分析              │
                           │ ▸ 数据洞察              │
                           │ ▸ 数据处理              │
                           └─────────────────────────┘
                                    │
                           ┌─────────────────────────┐
                           │   自动化层              │
                           ├─────────────────────────┤
                           │ ▸ Python RPA            │
                           │ ▸ Pipiads集成           │
                           │ ▸ 定时任务              │
                           │ ▸ 数据采集              │
                           └─────────────────────────┘
```

---

## 项目目录结构

### 主要目录结构
```
/home/hudi_data/total_project/
├── 📁 src/ ........................ 源代码目录
│   ├── 📁 app/ .................... Next.js应用路由
│   │   ├── 📁 [locale]/ ........... 多语言路由
│   │   │   ├── 📁 (admin)/ ........ 管理员面板
│   │   │   ├── 📁 (default)/ ...... 用户界面
│   │   │   │   ├── 📁 inventory/ .. 库存管理页面
│   │   │   │   ├── 📁 analysis/ ... AI分析页面
│   │   │   │   └── 📁 (console)/ .. 用户控制台
│   │   │   └── 📁 auth/ ........... 认证路由
│   │   └── 📁 api/ ................ API路由
│   │       ├── 📁 inventory/ ...... 库存API
│   │       ├── 📁 ai-analysis/ .... AI分析API
│   │       └── 📁 auth/ ........... 认证API
│   │
│   ├── 📁 components/ ............. React组件
│   │   ├── 📁 inventory/ .......... 库存管理组件
│   │   ├── 📁 ai-analysis/ ........ AI分析组件
│   │   ├── 📁 ui/ ................. Shadcn UI组件
│   │   └── 📁 blocks/ ............. 页面块组件
│   │
│   ├── 📁 db/ ..................... 数据库配置
│   │   ├── 📁 schema.ts ........... 数据库架构
│   │   ├── 📁 config.ts ........... 数据库配置
│   │   └── 📁 migrations/ ......... 数据库迁移
│   │
│   ├── 📁 services/ ............... 业务逻辑层
│   ├── 📁 lib/ .................... 工具库
│   ├── 📁 types/ .................. TypeScript类型
│   ├── 📁 i18n/ ................... 多语言配置
│   └── 📁 auth/ ................... 认证配置
│
├── 📁 sync_saihu_erp/data_update/ . 数据同步系统
│   ├── 📁 main.py ................. 主程序入口
│   ├── 📁 src/ .................... 源代码
│   │   ├── 📁 scrapers/ ........... 数据抓取器
│   │   ├── 📁 processors/ ......... 数据处理器
│   │   ├── 📁 models/ ............. 数据模型
│   │   ├── 📁 inventory/ .......... 库存同步模块
│   │   ├── 📁 scheduler/ .......... 调度器
│   │   └── 📁 config/ ............. 配置文件
│   └── 📁 tests/ .................. 测试文件
│
├── 📁 rpa/ ........................ RPA自动化系统
│   ├── 📁 main.py ................. 主程序入口
│   ├── 📁 data_collector.py ....... 数据采集模块
│   ├── 📁 data_processor.py ....... 数据处理模块
│   ├── 📁 report_generator.py ..... 报告生成模块
│   ├── 📁 human_collaboration.py .. 人机协作模块
│   └── 📁 config.py ............... 配置管理
│
├── 📁 doc/ ........................ 项目文档
│   ├── 📁 pipiads.md .............. Pipiads使用指南
│   ├── 📁 pipiads-sop.md .......... 标准操作流程
│   └── 📁 templates/ .............. 文档模板
│
├── 📁 public/ ..................... 静态资源
├── 📁 package.json ................ 项目依赖配置
├── 📁 README.md ................... 项目说明
├── 📁 CHANGELOG.md ................ 版本更新日志
└── 📁 CLAUDE.md ................... Claude代码助手指南
```

---

## 核心功能模块

### 1. 库存管理系统
**功能描述**: 专业的Amazon库存数据管理系统

**主要功能**:
- 📊 **多维度库存数据管理** - ASIN级别和销售员库存数据全面追踪  
- 📈 **库存状态实时监控** - 库存充足/不足/告急等状态智能预警
- 📋 **多条件库存数据筛选** - 按销售员、产品、库存点、时间等维度筛选
- 📄 **数据批量导入导出** - 支持Excel/CSV格式数据批量导入
- 📊 **数据可视化图表显示** - ASIN级别图表分析和库存趋势展示
- 📱 **响应式界面设计**: 完美适配桌面和移动设备

**数据结构**:
```typescript
// 核心数据结构
interface InventoryRecord {
  id: number;
  asin: string;
  product_name: string;
  warehouse_location: string;
  sales_person: string;
  inventory_status: 'sufficient' | 'low' | 'critical';
  daily_sales_revenue: number;
  ad_spend: number;
  created_at: Date;
}
```

### 2. AI智能分析系统
**功能描述**: 基于DeepSeek AI的库存智能分析系统

**主要功能**:
- 🤖 **实时AI分析** - Server-Sent Events实现实时分析反馈
- 📊 **结构化分析报告**:
  - 概况总结: AI数据分析关键洞察总结
  - 分析建议: 库存状态优化和运营建议  
  - 风险提醒: 业务风险预警和应对措施
- 📋 **分析结果管理** - 分析历史记录和结果对比
- ⭐ **智能评价系统** - 1-5星评价 + 详细反馈机制
- 📊 **分析监控面板** - 实时查看AI分析队列和状态

### 3. 数据同步系统
**功能描述**: 跨ERP数据同步和库存状态同步

**主要功能**:
- 🔄 **多数据源同步** - 统一管理FBA库存、本地库存数据同步
- 🤖 **智能数据同步** - 增量同步 + 异常处理同步
- 📊 **数据处理分析** - CTR、CVR、ACOAS等关键指标计算
- ⚡ **实时监控警报** - 实时数据状态监控和异常警报
- 📈 **数据统计报表** - 专业的数据统计和可视化报表

**效率提升数据**:
| 处理模块 | 原手工耗时 | 自动化耗时 | 效率提升 |
|----------|-------------|------------|----------|
| 数据采集 | 2-3小时 | 10-15分钟 | 85%+ |
| 数据同步 | 1-2小时 | 2-5分钟 | 90%+ |
| 报告生成 | 30-60分钟 | 3-5分钟 | 90%+ |

### 4. Pipiads RPA自动化系统
**功能描述**: 美妆个护产品开发流程自动化系统

**主要功能**:
- 🚀 **自动化数据采集** - 按照Pipiads美妆SOP标准流程采集数据
- 📊 **智能数据分析** - 库存指标计算、产品筛选、数据分级
- 📋 **自动报告生成** - 报告模板填充、Excel数据表、数据可视化
- 🤝 **人机协作管理** - 智能识别+人工确认相结合的决策机制
- ⚡ **定时监控预警** - 7x24小时监控与智能预警机制

**效率提升数据**:
| 工作项目 | 手工耗时 | RPA耗时 | 效率提升 |
|----------|----------|---------|----------|
| 平台登录设置 | 5分钟 | 30秒 | 90% |
| 数据扫描采集 | 120分钟 | 15分钟 | 87.5% |
| 数据录入计算 | 60分钟 | 2分钟 | 96.7% |
| 报告生成 | 30分钟 | 3分钟 | 90% |
| **总计** | **245分钟** | **21.5分钟** | **91.2%** |

### 5. 用户权限管理系统
**功能描述**: 专业的用户管理和权限控制系统

**主要功能**:
- 🔐 **多Provider认证** - Google、GitHub OAuth登录
- 💳 **Stripe支付集成** - 订阅付费和积分系统
- 👥 **用户权限管理** - 用户、管理员权限管控
- 🔑 **API密钥管理** - API访问权限管理
- 🔒 **API路由鉴权** - 用户级API访问控制
- 📋 **多语言支持** - 中英文界面

---

## 数据库设计

### 核心数据库架构

#### 1. 用户表 (users)
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    uuid VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) NOT NULL,
    username VARCHAR(100) UNIQUE,
    password_hash VARCHAR(255),
    email_verified BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE,
    nickname VARCHAR(255),
    avatar_url VARCHAR(255),
    locale VARCHAR(50),
    signin_type VARCHAR(50),
    signin_provider VARCHAR(50),
    invite_code VARCHAR(255) DEFAULT '',
    invited_by VARCHAR(255) DEFAULT '',
    is_affiliate BOOLEAN DEFAULT FALSE
);
```

#### 2. 库存记录表 (inventory_records)
```sql
CREATE TABLE inventory_records (
    id SERIAL PRIMARY KEY,
    asin VARCHAR(20) NOT NULL,
    product_name VARCHAR(255) NOT NULL,
    warehouse_location VARCHAR(100),
    sales_person VARCHAR(100),
    inventory_status VARCHAR(50),
    daily_sales_revenue DECIMAL(10,2),
    ad_spend DECIMAL(10,2),
    turnover_days INTEGER,
    analysis_count INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE,
    updated_at TIMESTAMP WITH TIME ZONE,
    
    -- 确保每个ASIN在每个仓库位置每天只有一条记录
    UNIQUE(asin, warehouse_location, DATE(created_at))
);
```

#### 3. 库存点表 (inventory_points)
```sql
CREATE TABLE inventory_points (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    asin VARCHAR(20) NOT NULL,
    product_name VARCHAR(255) NOT NULL,
    sku VARCHAR(100),
    category VARCHAR(100),
    sales_person VARCHAR(100),
    product_tag VARCHAR(100),
    marketplace VARCHAR(50) NOT NULL,
    store VARCHAR(255),
    inventory_point_name VARCHAR(255),
    
    -- 库存数据
    fba_available DECIMAL(10,2) DEFAULT 0,
    fba_inbound DECIMAL(10,2) DEFAULT 0,
    total_inventory DECIMAL(10,2) DEFAULT 0,
    
    -- 销售数据
    sales_7days DECIMAL(10,2) DEFAULT 0,
    average_sales DECIMAL(10,2) DEFAULT 0,
    
    -- 广告数据
    ad_impressions INT DEFAULT 0,
    ad_clicks INT DEFAULT 0,
    ad_spend DECIMAL(10,2) DEFAULT 0,
    ad_ctr DECIMAL(8,4) DEFAULT 0,
    ad_cvr DECIMAL(8,4) DEFAULT 0,
    acoas DECIMAL(8,4) DEFAULT 0,
    
    -- 分析指标
    turnover_days DECIMAL(8,1) DEFAULT 0,
    daily_sales_amount DECIMAL(10,2) DEFAULT 0,
    is_effective_point BOOLEAN DEFAULT FALSE,
    
    -- 数据合并
    merge_type VARCHAR(50),
    store_count INT DEFAULT 1,
    data_date DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_point (asin, marketplace, data_date),
    INDEX idx_data_date (data_date),
    INDEX idx_marketplace (marketplace)
);
```

---

## 开发部署指南

### 开发环境搭建

#### Next.js前端
```bash
# 1. 克隆项目
git clone <repository-url>
cd amazon-analyst

# 2. 安装依赖
pnpm install

# 3. 环境配置
cp .env.example .env.development  

# 4. 数据库设置
pnpm db:generate  # 生成迁移文件
pnpm db:migrate   # 运行迁移
pnpm db:studio    # 打开数据库管理界面

# 5. 启动开发服务器
pnpm dev          # 启动Next.js开发服务器
```

#### 数据同步系统
```bash
# 1. 进入数据同步目录
cd sync_saihu_erp/data_update

# 2. 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Linux/Mac

# 3. 安装依赖
pip install -r requirements.txt

# 4. 配置数据库
python setup_mysql.py

# 5. 运行同步系统
python main.py
```

#### 库存同步集成测试
```bash
# 运行专业集成测试
cd sync_saihu_erp/data_update
python3 tests/integration_test.py
```

#### RPA自动化系统
```bash
# 1. 进入RPA目录
cd rpa

# 2. 安装依赖
pip install -r requirements.txt

# 3. 配置环境变量
cp .env.example .env

# 4. 运行RPA系统
python main.py --mode scheduler
```

---

## 业务价值和ROI

### 核心业务价值 
1. **数据处理效率85%+** - 自动化替代手工数据处理流程
2. **决策响应速度提升** - AI驱动的数据分析大幅提升决策效率
3. **24/7全天候监控** - 自动化监控替代人工周期性检查
4. **数据质量显著提升** - 消除手工数据录入错误和遗漏
5. **业务规模快速扩展** - 支持更多产品和市场的业务扩展

### 业务效益分析
```
经济效益分析
├── 💰 直接投资回报
│   ├── 数据处理时间: 4-6小时/天 → 45分钟/天
│   ├── 数据错误率提升: 常规5%降至0.1%  
│   ├── 响应时间提升: 定期检查vs实时监控
│   ├── 规模扩展能力: 人工vs自动化处理
│   └── 直接投资回报: 80%+ 效率提升自动化

├── 📈 业务价值提升
│   ├── 业务决策质量提升
│   ├── 市场响应速度提升
│   ├── 运营管理效率提升
│   ├── 客户满意度及数据处理
│   └── 团队生产力显著提升

└── 🔄 ROI预测
    ├── 部署成本: 2-3个月开发投资
    ├── 运维成本: <500元/月
    ├── 节省成本: 100+小时/月
    └── 投资回收期: 3-6个月
```

---

## 未来发展规划

### 短期规划 (v2.6.0 - v3.0.0)
- 📊 **增强数据可视化** - 更丰富的图表和数据洞察
- 🔄 **多系统集成扩展** - 整合更多电商平台数据
- 📋 **高级报告功能** - PDF/Excel多格式专业报告
- 👥 **团队协作功能** - 多用户权限管理和协作
- 📱 **移动端优化** - PWA/原生移动应用支持

### 中期规划 (v3.0.0 - v4.0.0)
- 📋 **多平台扩展** - 支持eBay、Walmart、Shopee等平台
- 🔮 **预测分析** - 机器学习模型进行销量和库存预测
- 🌐 **开放API生态** - 第三方开发者集成API
- 🤖 **深度学习模型** - 更智能的趋势分析和风险预测
- 📋 **企业级功能** - 增强权限管理、审计日志、SLA保障

### 长期愿景 (v4.0.0+)
- 🔐 **智能决策引擎** - 多条件数据决策支持引擎
- 🔗 **生态系统建设** - 构建完整电商运营生态系统
- 🚀 **全球化部署** - 支持全球多区域云部署
- 📊 **商业智能平台** - 构建专业的Amazon BI分析平台

---

## 项目技术支持

### 开发指导
1. **🤖 AI辅助开发** - 集成Claude AI代码辅助用于高效开发
2. **🔄 智能数据同步** - 基于ETL流程的智能数据同步方案
3. **🚀 人机协作RPA** - 91.2%自动化 + 9%专业人工验证
4. **📊 多维度数据分析** - 库存、销售、广告数据的全方位分析
5. **⚡ 现代化技术栈** - Next.js 15 + React 19 的最新Web技术

### 联系方式
1. **🔗 专业技术支持** - 深度集成Amazon运营数据及专业分析
2. **📈 数据质量保证** - 严格的数据验证和质量控制流程
3. **🔐 数据安全保障** - 企业级数据安全和隐私保护
4. **📊 AI模型持续优化** - 基于DeepSeek AI的持续模型迭代优化
5. **📋 智能决策支持** - 多条件综合智能决策支持系统
6. **🌐 全球化本地化** - 多语言、多时区、多区域支持

---

## 总结

Amazon Analyst是一个全面整合的Amazon运营分析Web平台，AI智能分析、数据同步处理、RPA自动化等核心功能为一体，专门为Amazon卖家提供专业的运营支持和数据分析服务。

### 项目核心亮点
- **🔗 技术创新性** - 深度集成Amazon运营数据与专业AI分析
- **🚀 业务实用性** - 显著提升Amazon运营效率和决策质量
- **📈 数据质量保证** - AI分析结合自动化工具大幅提升运营效率
- **⚡ 自动化效率** - 多类别流程80%-90%+的效率提升
- **📊 完整业务闭环:** 模块化系统形成完整电商运营闭环
- **📋 投资回报显著** - 规模化经济效益与长期投资回报

### 开发指导建议
基于**Next.js 15 + React 19**的现代Web架构，配合**PostgreSQL + MySQL**的数据存储，以及**DeepSeek AI**的智能分析，结合**Python RPA**的流程处理，构建了一个专业的商业智能解决方案。

### 商业价值定位
作为专业Amazon卖家运营分析平台，数据质量控制、自动化效率提升及AI智能决策支持：Amazon Analyst已经成为Amazon运营管理系统的重要组成部分，助力商家实现数据驱动的业务增长。

基于持续的技术创新和业务优化，Amazon Analyst管理平台将持续为Amazon卖家提供更智能、更高效、更专业的运营支持，助力业务实现可持续增长。

---

**项目版本**: v2.5.1  
**最后更新**: 2025-07-25  
**维护团队**: Amazon Analyst开发团队  
**官方网站**: https://amazonanalyst.ai