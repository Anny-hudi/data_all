<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIåˆ†æåŠŸèƒ½æ¼”ç¤º - Amazon Analyst</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(214.3 31.8% 91.4%)",
                        background: "hsl(0 0% 100%)",
                        foreground: "hsl(222.2 84% 4.9%)",
                        muted: "hsl(210 40% 96%)",
                        "muted-foreground": "hsl(215.4 16.3% 46.9%)",
                        destructive: "hsl(0 84.2% 60.2%)",
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .animate-bounce { animation: bounce 1s infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        @keyframes bounce { 0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); } 50% { transform: none; animation-timing-function: cubic-bezier(0,0,0.2,1); } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .streaming-cursor::after { content: ''; display: inline-block; width: 8px; height: 16px; background: #7c3aed; margin-left: 4px; animation: pulse 1s infinite; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto py-6 space-y-6 max-w-6xl">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <div class="bg-white rounded-lg shadow-sm border p-6">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">ğŸ¤– AIè¿è¥å†³ç­–åˆ†ææ¼”ç¤º</h1>
                    <p class="text-sm text-gray-600 mt-1">
                        ASIN: B07XAMPLE | åº“å­˜ç‚¹: US-WEST
                    </p>
                </div>
                <div class="px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg text-sm font-medium">
                    æ¼”ç¤ºæ¨¡å¼
                </div>
            </div>
        </div>

        <!-- äº§å“ä¿¡æ¯å¡ç‰‡ -->
        <div class="bg-white rounded-lg shadow-sm border">
            <div class="p-6 border-b">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    ğŸ“¦ äº§å“åŸºæœ¬ä¿¡æ¯
                </h2>
            </div>
            <div class="p-6">
                <!-- äº§å“åŸºæœ¬ä¿¡æ¯ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg">
                    <div>
                        <label class="text-sm font-medium text-gray-600">ASIN</label>
                        <p class="font-mono text-lg font-bold">B07XAMPLE123</p>
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-600">äº§å“åç§°</label>
                        <p class="text-lg">Amazon AI Analysis Demo Product</p>
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-600">åº“å­˜ç‚¹</label>
                        <p class="text-lg">US-WEST</p>
                    </div>
                </div>

                <!-- åº“å­˜è¯¦æƒ… -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold mb-3">åº“å­˜æ•°æ®</h4>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="text-center p-4 bg-blue-50 rounded-lg border">
                            <div class="text-2xl font-bold text-blue-600 mb-2">2,850</div>
                            <p class="text-sm text-gray-600">æ€»åº“å­˜</p>
                            <div class="flex items-center justify-center text-green-600 text-sm mt-2">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                +12.3%
                            </div>
                        </div>
                        <div class="text-center p-4 bg-indigo-50 rounded-lg border">
                            <div class="text-2xl font-bold text-indigo-600 mb-2">1,240</div>
                            <p class="text-sm text-gray-600">FBAå¯ç”¨</p>
                        </div>
                        <div class="text-center p-4 bg-yellow-50 rounded-lg border">
                            <div class="text-2xl font-bold text-yellow-600 mb-2">800</div>
                            <p class="text-sm text-gray-600">FBAåœ¨é€”</p>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg border">
                            <div class="text-2xl font-bold text-green-600 mb-2">810</div>
                            <p class="text-sm text-gray-600">æœ¬åœ°ä»“</p>
                        </div>
                    </div>
                </div>

                <!-- é”€å”®è¡¨ç° -->
                <div>
                    <h4 class="text-lg font-semibold mb-3">é”€å”®è¡¨ç°</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="text-center p-4 bg-green-50 rounded-lg border">
                            <div class="text-2xl font-bold text-green-600 mb-2">$1,250</div>
                            <p class="text-sm text-gray-600">æ—¥å‡é”€å”®é¢</p>
                            <div class="flex items-center justify-center text-green-600 text-sm mt-2">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                +8.7%
                            </div>
                        </div>
                        <div class="text-center p-4 bg-purple-50 rounded-lg border">
                            <div class="text-2xl font-bold text-purple-600 mb-2">45</div>
                            <p class="text-sm text-gray-600">å¹³å‡é”€é‡</p>
                            <div class="flex items-center justify-center text-red-600 text-sm mt-2">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                -2.1%
                            </div>
                        </div>
                        <div class="text-center p-4 bg-orange-50 rounded-lg border">
                            <div class="mb-2">
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">
                                    åº“å­˜å……è¶³
                                </span>
                            </div>
                            <p class="text-sm text-gray-600">å‘¨è½¬å¤©æ•°: 63 å¤©</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AIåˆ†æé¢æ¿ -->
        <div class="bg-white rounded-lg shadow-sm border" id="analysisPanel">
            <div class="p-6 border-b">
                <div class="flex items-center justify-between">
                    <h2 class="text-lg font-semibold flex items-center gap-2">
                        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                        ğŸ¤– AIè¿è¥å†³ç­–åˆ†æ
                    </h2>
                    <div class="flex items-center gap-2">
                        <button id="startAnalysis" onclick="startAnalysis()" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg flex items-center gap-2 transition-all">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                            å¼€å§‹AIåˆ†æ
                        </button>
                    </div>
                </div>

                <!-- è¿›åº¦æ¡ -->
                <div id="progressSection" class="hidden mt-4 space-y-2">
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-600 flex items-center gap-2">
                            <svg class="w-3 h-3 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                            AIæ­£åœ¨åˆ†æä¸­...
                        </span>
                        <span class="text-gray-600"><span id="progressPercent">0</span>%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div id="progressBar" class="bg-gradient-to-r from-purple-600 to-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- åˆ†æå†…å®¹åŒºåŸŸ -->
            <div id="analysisContent" class="p-6">
                <!-- ç©ºçŠ¶æ€ -->
                <div id="emptyState" class="text-center py-12 text-gray-500">
                    <div class="w-16 h-16 mx-auto bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-medium mb-2">AIè¿è¥å†³ç­–åˆ†æ</h3>
                    <p class="text-sm mb-4">è§‚çœ‹AIåˆ†æå¸ˆçš„å®Œæ•´æ€è€ƒè¿‡ç¨‹ï¼Œå®æ—¶äº†è§£åˆ†æé€»è¾‘å’Œæ¨ç†æ­¥éª¤ï¼Œè·å–ä¸“ä¸šçš„è¿è¥å»ºè®®</p>
                    <div class="grid grid-cols-2 gap-4 max-w-md mx-auto text-xs">
                        <div class="p-3 bg-purple-50 rounded-lg border">
                            <div class="font-medium text-purple-900 mb-1 flex items-center gap-1">
                                <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                </svg>
                                æ€è€ƒè¿‡ç¨‹
                            </div>
                            <div class="text-purple-700">å®æ—¶å±•ç¤ºAIæ€è·¯</div>
                        </div>
                        <div class="p-3 bg-blue-50 rounded-lg border">
                            <div class="font-medium text-blue-900 mb-1 flex items-center gap-1">
                                <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                                åˆ†ææ­¥éª¤
                            </div>
                            <div class="text-blue-700">é€æ­¥æ·±å…¥åˆ†æ</div>
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg border">
                            <div class="font-medium text-green-900 mb-1 flex items-center gap-1">
                                <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path>
                                </svg>
                                è¡ŒåŠ¨å»ºè®®
                            </div>
                            <div class="text-green-700">å¯æ‰§è¡Œçš„å»ºè®®</div>
                        </div>
                        <div class="p-3 bg-yellow-50 rounded-lg border">
                            <div class="font-medium text-yellow-900 mb-1 flex items-center gap-1">
                                <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                </svg>
                                å®æ—¶åé¦ˆ
                            </div>
                            <div class="text-yellow-700">å³æ—¶æŸ¥çœ‹ç»“æœ</div>
                        </div>
                    </div>
                </div>

                <!-- æµå¼åˆ†æäº‹ä»¶å±•ç¤ºåŒºåŸŸ -->
                <div id="streamingEvents" class="hidden space-y-3">
                    <!-- äº‹ä»¶ä¼šåŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
                </div>

                <!-- åˆ†æå®Œæˆåçš„æœ€ç»ˆç»“æœ -->
                <div id="finalResult" class="hidden">
                    <div class="border-t pt-4">
                        <div class="flex items-center gap-2 mb-4">
                            <svg class="h-5 w-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <h3 class="text-lg font-semibold text-green-800">åˆ†æå®Œæˆ</h3>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-50 to-blue-50 border border-green-200 rounded-lg p-4">
                            <div id="finalAnalysisContent" class="prose prose-sm max-w-none">
                                <!-- æœ€ç»ˆåˆ†æç»“æœä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-2 mt-4 pt-3 border-t">
                            <button onclick="copyAnalysis()" class="flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                                </svg>
                                å¤åˆ¶åˆ†æç»“æœ
                            </button>
                            
                            <button onclick="resetAnalysis()" class="flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                é‡æ–°åˆ†æ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åˆ†æå†å²è®°å½• -->
        <div class="bg-white rounded-lg shadow-sm border">
            <div class="p-6 border-b">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    ğŸ“š åˆ†æå†å²è®°å½•
                </h2>
            </div>
            <div class="p-6">
                <div class="space-y-3">
                    <div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center gap-2">
                                <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">å·²å®Œæˆ</span>
                                <span class="text-sm text-gray-600">2024-07-31 09:30:15</span>
                            </div>
                            <button class="text-blue-600 hover:text-blue-800 text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                        </div>
                        <p class="text-sm text-gray-800">AIåˆ†æè¯†åˆ«å‡ºåº“å­˜å……è¶³ä½†é”€é‡ä¸‹é™è¶‹åŠ¿ï¼Œå»ºè®®å¢åŠ å¹¿å‘ŠæŠ•æ”¾...</p>
                    </div>
                    
                    <div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center gap-2">
                                <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">å·²å®Œæˆ</span>
                                <span class="text-sm text-gray-600">2024-07-30 14:22:41</span>
                            </div>
                            <button class="text-blue-600 hover:text-blue-800 text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                        </div>
                        <p class="text-sm text-gray-800">åº“å­˜å‘¨è½¬æ­£å¸¸ï¼Œå»ºè®®ä¿æŒå½“å‰è¿è¥ç­–ç•¥å¹¶å…³æ³¨ç«å“åŠ¨æ€...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let analysisData = '';
        
        // æ¨¡æ‹Ÿåˆ†æäº‹ä»¶æ•°æ®
        const simulatedEvents = [
            {
                type: 'thinking',
                step: 'æ•°æ®æ¦‚è§ˆå’Œåˆå°è±¡',
                content: 'æˆ‘æ­£åœ¨æŸ¥çœ‹è¿™ä¸ªäº§å“çš„æ•´ä½“æ•°æ®çŠ¶å†µã€‚æ€»åº“å­˜2850ä»¶ï¼Œæ—¥å‡é”€å”®é¢$1250ï¼Œé”€é‡45ä»¶/å¤©ã€‚åˆæ­¥çœ‹æ¥è¿™æ˜¯ä¸€ä¸ªé”€å”®è¡¨ç°ä¸é”™çš„äº§å“ï¼Œä½†éœ€è¦æ·±å…¥åˆ†æå„é¡¹æŒ‡æ ‡çš„å¥åº·åº¦...',
                timestamp: Date.now()
            },
            {
                type: 'analysis',
                step: 'åº“å­˜å¥åº·åº¦åˆ†æ',
                content: '**åº“å­˜çŠ¶å†µ**: åº“å­˜å‘¨è½¬å¤©æ•°63å¤©ï¼Œå¤„äºåˆç†èŒƒå›´å†…ï¼ˆ40-90å¤©ï¼‰ã€‚FBAå¯ç”¨åº“å­˜1240ä»¶ï¼ŒæŒ‰å½“å‰é”€é‡å¯ç»´æŒçº¦27å¤©ï¼Œéœ€è¦å…³æ³¨è¡¥è´§æ—¶æœºã€‚åœ¨é€”åº“å­˜800ä»¶é¢„è®¡15å¤©å†…åˆ°è¾¾ï¼Œæœ¬åœ°ä»“810ä»¶å¯ä½œä¸ºåº”æ€¥å¤‡è´§ã€‚\n\næ€»ä½“åº“å­˜åˆ†å¸ƒè¾ƒä¸ºå‡è¡¡ï¼Œæ²¡æœ‰æ˜æ˜¾çš„æ–­è´§é£é™©ã€‚',
                timestamp: Date.now() + 2000
            },
            {
                type: 'thinking',
                step: 'é”€å”®è¡¨ç°è¯„ä¼°æ€è·¯',
                content: 'ç°åœ¨æˆ‘éœ€è¦åˆ†æé”€å”®æ•°æ®çš„è¶‹åŠ¿ã€‚æ—¥å‡é”€å”®é¢$1250ç›¸å½“ä¸é”™ï¼Œä½†å¹³å‡é”€é‡å‡ºç°äº†-2.1%çš„ä¸‹é™ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦å…³æ³¨çš„ä¿¡å·ã€‚è®©æˆ‘æ·±å…¥åˆ†æè¿™ä¸ªè¶‹åŠ¿èƒŒåçš„åŸå› ...',
                timestamp: Date.now() + 4000
            },
            {
                type: 'analysis',
                step: 'é”€å”®æ•°æ®æ·±åº¦åˆ†æ',
                content: '**é”€å”®è¡¨ç°åˆ†æ**: \n- æ—¥å‡é”€å”®é¢$1250ï¼Œå¢é•¿+8.7%ï¼Œè¡¨ç°ä¼˜ç§€\n- å¹³å‡é”€é‡45ä»¶/å¤©ï¼Œä¸‹é™-2.1%ï¼Œéœ€è¦å…³æ³¨\n- å®¢å•ä»·çº¦$27.8ï¼Œæœ‰æ‰€æå‡\n\n**å…³é”®å‘ç°**: é”€å”®é¢å¢é•¿è€Œé”€é‡ä¸‹é™ï¼Œè¯´æ˜äº§å“å®¢å•ä»·æå‡äº†ï¼Œè¿™å¯èƒ½æ˜¯ä»·æ ¼è°ƒæ•´çš„ç»“æœã€‚éœ€è¦è¯„ä¼°ä»·æ ¼ç­–ç•¥æ˜¯å¦åˆç†ã€‚',
                timestamp: Date.now() + 6000
            },
            {
                type: 'thinking',
                step: 'å¹¿å‘Šæ•ˆæœè¯„ä¼°æ€è·¯',
                content: 'è™½ç„¶è¿™ä¸ªæ¼”ç¤ºæ²¡æœ‰è¯¦ç»†çš„å¹¿å‘Šæ•°æ®ï¼Œä½†æ ¹æ®é”€é‡ä¸‹é™çš„è¶‹åŠ¿ï¼Œæˆ‘éœ€è¦è€ƒè™‘æ˜¯å¦éœ€è¦å¢åŠ å¹¿å‘ŠæŠ•æ”¾æ¥ä¿æŒå¸‚åœºä»½é¢ã€‚è®©æˆ‘åˆ¶å®šç›¸åº”çš„å¹¿å‘Šç­–ç•¥å»ºè®®...',
                timestamp: Date.now() + 8000
            },
            {
                type: 'analysis',
                step: 'å¹¿å‘Šæ•ˆæœåˆ†æ',
                content: '**å¹¿å‘Šç­–ç•¥å»ºè®®**: \nåŸºäºé”€é‡ä¸‹é™-2.1%çš„è¶‹åŠ¿ï¼Œå»ºè®®ï¼š\n- é€‚åº¦å¢åŠ å¹¿å‘Šé¢„ç®—15-20%\n- é‡ç‚¹æŠ•æ”¾è½¬åŒ–ç‡è¾ƒé«˜çš„å…³é”®è¯\n- æµ‹è¯•æ–°çš„å¹¿å‘Šåˆ›æ„ä»¥æå‡ç‚¹å‡»ç‡\n- ç›‘æ§ACOSæ§åˆ¶åœ¨15%ä»¥å†…\n\nç›®æ ‡æ˜¯åœ¨ä¿æŒåˆ©æ¶¦ç‡çš„å‰æä¸‹ï¼Œæ¢å¤é”€é‡å¢é•¿ã€‚',
                timestamp: Date.now() + 10000
            },
            {
                type: 'thinking',
                step: 'ç»¼åˆè¯Šæ–­æ€è·¯',
                content: 'ç»¼åˆæ‰€æœ‰æ•°æ®åˆ†æï¼Œè¿™ä¸ªäº§å“æ•´ä½“è¿è¥å¥åº·ï¼Œä½†å­˜åœ¨é”€é‡ä¸‹é™çš„éšæ‚£ã€‚ä¸»è¦çŸ›ç›¾åœ¨äºå¦‚ä½•å¹³è¡¡ä»·æ ¼ç­–ç•¥å’Œå¸‚åœºä»½é¢ã€‚æˆ‘éœ€è¦ç»™å‡ºå…·ä½“çš„è¡ŒåŠ¨å»ºè®®...',
                timestamp: Date.now() + 12000
            },
            {
                type: 'recommendation',
                step: 'å…·ä½“è¡ŒåŠ¨å»ºè®®',
                content: '## è¡ŒåŠ¨å»ºè®®\n\n1. **çŸ­æœŸç­–ç•¥ï¼ˆ1-2å‘¨å†…ï¼‰**\n   - å¢åŠ å¹¿å‘Šé¢„ç®—20%ï¼Œé‡ç‚¹æŠ•æ”¾é«˜è½¬åŒ–å…³é”®è¯\n   - åˆ›å»º10-15%çš„é™æ—¶Couponä¿ƒé”€ï¼Œåˆºæ¿€é”€é‡æ¢å¤\n   - ç›‘æ§ç«å“ä»·æ ¼å˜åŒ–ï¼ŒåŠæ—¶è°ƒæ•´å®šä»·ç­–ç•¥\n\n2. **ä¸­æœŸç­–ç•¥ï¼ˆ1-2ä¸ªæœˆå†…ï¼‰**\n   - ä¼˜åŒ–äº§å“Listingï¼Œçªå‡ºä»·å€¼ä¸»å¼ \n   - æµ‹è¯•A+é¡µé¢å†…å®¹ï¼Œæå‡è½¬åŒ–ç‡\n   - è€ƒè™‘bundleç­–ç•¥ï¼Œæå‡å®¢å•ä»·\n\n3. **é•¿æœŸç­–ç•¥ï¼ˆ3ä¸ªæœˆä»¥ä¸Šï¼‰**\n   - è¯„ä¼°äº§å“çº¿æ‰©å±•æœºä¼š\n   - å»ºç«‹å“ç‰ŒæŠ¤åŸæ²³ï¼Œå‡å°‘ä»·æ ¼ç«äº‰\n   - æŒç»­ä¼˜åŒ–ä¾›åº”é“¾ï¼Œæ§åˆ¶æˆæœ¬\n\n**ä¼˜å…ˆçº§**: åº“å­˜ç®¡ç†å¥åº·ï¼Œé‡ç‚¹å…³æ³¨é”€é‡æ¢å¤å’Œå¸‚åœºä»½é¢ç»´æŠ¤ã€‚',
                timestamp: Date.now() + 14000
            }
        ];

        let currentEventIndex = 0;
        let analysisInterval;

        function startAnalysis() {
            // éšè—ç©ºçŠ¶æ€ï¼Œæ˜¾ç¤ºè¿›åº¦æ¡
            document.getElementById('emptyState').classList.add('hidden');
            document.getElementById('progressSection').classList.remove('hidden');
            document.getElementById('streamingEvents').classList.remove('hidden');
            document.getElementById('startAnalysis').classList.add('hidden');
            
            // é‡ç½®çŠ¶æ€
            currentEventIndex = 0;
            document.getElementById('streamingEvents').innerHTML = '';
            
            // å¼€å§‹æ¨¡æ‹Ÿæµå¼åˆ†æ
            let progress = 0;
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            
            // è¿›åº¦æ¡åŠ¨ç”»
            const progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                progressBar.style.width = progress + '%';
                progressPercent.textContent = Math.round(progress);
            }, 500);
            
            // æ¨¡æ‹Ÿåˆ†æäº‹ä»¶
            analysisInterval = setInterval(() => {
                if (currentEventIndex < simulatedEvents.length) {
                    addAnalysisEvent(simulatedEvents[currentEventIndex]);
                    currentEventIndex++;
                } else {
                    // åˆ†æå®Œæˆ
                    clearInterval(analysisInterval);
                    clearInterval(progressInterval);
                    progressBar.style.width = '100%';
                    progressPercent.textContent = '100';
                    
                    setTimeout(() => {
                        completeAnalysis();
                    }, 1000);
                }
            }, 2000);
        }

        function addAnalysisEvent(event) {
            const eventsContainer = document.getElementById('streamingEvents');
            const eventElement = document.createElement('div');
            
            const styleClass = {
                'thinking': 'bg-purple-50 border-purple-200 text-purple-800',
                'analysis': 'bg-blue-50 border-blue-200 text-blue-800',
                'recommendation': 'bg-green-50 border-green-200 text-green-800'
            }[event.type] || 'bg-gray-50 border-gray-200 text-gray-800';
            
            const icon = {
                'thinking': 'ğŸ§ ',
                'analysis': 'ğŸ‘ï¸',
                'recommendation': 'ğŸ¯'
            }[event.type] || 'ğŸ’¡';
            
            eventElement.className = `p-3 rounded-lg border-l-4 transition-all duration-200 ${styleClass}`;
            eventElement.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                        <span class="text-lg">${icon}</span>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white bg-opacity-50">
                            ${event.step}
                        </span>
                    </div>
                    <div class="flex items-center gap-1 text-xs text-gray-500">
                        <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        ${new Date(event.timestamp).toLocaleTimeString()}
                    </div>
                </div>
                <div class="text-sm leading-relaxed whitespace-pre-wrap streaming-cursor">
                    ${event.content}
                </div>
            `;
            
            eventsContainer.appendChild(eventElement);
            
            // æ»šåŠ¨åˆ°æœ€æ–°äº‹ä»¶
            eventElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            // æ¨¡æ‹Ÿæ‰“å­—æ•ˆæœ
            const contentDiv = eventElement.querySelector('.streaming-cursor');
            const originalContent = event.content;
            contentDiv.textContent = '';
            
            let charIndex = 0;
            const typingInterval = setInterval(() => {
                if (charIndex < originalContent.length) {
                    contentDiv.textContent += originalContent[charIndex];
                    charIndex++;
                } else {
                    clearInterval(typingInterval);
                    contentDiv.classList.remove('streaming-cursor');
                    contentDiv.innerHTML = originalContent.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                }
            }, 20);
            
            // æ”¶é›†å®Œæ•´å†…å®¹ç”¨äºæœ€ç»ˆå±•ç¤º
            analysisData += `${event.step}: ${event.content}\n\n`;
        }

        function completeAnalysis() {
            document.getElementById('progressSection').classList.add('hidden');
            document.getElementById('finalResult').classList.remove('hidden');
            
            // æ˜¾ç¤ºæœ€ç»ˆåˆ†æç»“æœ
            const finalContent = document.getElementById('finalAnalysisContent');
            finalContent.innerHTML = `
                <div class="whitespace-pre-wrap text-sm leading-relaxed">
                    <h3 class="text-lg font-semibold mb-3 text-green-800">ğŸ¯ AIåˆ†æå®Œæˆ</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">ğŸ“Š æ ¸å¿ƒå‘ç°</h4>
                            <p class="text-gray-700">è¯¥äº§å“æ•´ä½“è¿è¥å¥åº·ï¼Œåº“å­˜å‘¨è½¬æ­£å¸¸ï¼Œä½†é”€é‡å‡ºç°ä¸‹é™è¶‹åŠ¿éœ€è¦é‡ç‚¹å…³æ³¨ã€‚</p>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">ğŸ’¡ ä¸»è¦å»ºè®®</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>å¢åŠ å¹¿å‘Šé¢„ç®—20%ï¼Œé‡ç‚¹æŠ•æ”¾é«˜è½¬åŒ–å…³é”®è¯</li>
                                <li>åˆ›å»º10-15%é™æ—¶Couponä¿ƒé”€ï¼Œåˆºæ¿€é”€é‡æ¢å¤</li>
                                <li>ä¼˜åŒ–äº§å“Listingï¼Œæå‡è½¬åŒ–ç‡</li>
                                <li>æŒç»­ç›‘æ§ç«å“ä»·æ ¼å˜åŒ–</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">âš¡ ä¼˜å…ˆçº§</h4>
                            <p class="text-gray-700">é«˜ä¼˜å…ˆçº§ï¼šå¹¿å‘ŠæŠ•æ”¾ä¼˜åŒ–ï¼›ä¸­ä¼˜å…ˆçº§ï¼šä¿ƒé”€æ´»åŠ¨ï¼›ä½ä¼˜å…ˆçº§ï¼šé•¿æœŸæˆ˜ç•¥è§„åˆ’</p>
                        </div>
                    </div>
                </div>
            `;
            
            // é‡æ–°æ˜¾ç¤ºå¼€å§‹æŒ‰é’®ï¼Œä½†æ”¹ä¸º"é‡æ–°åˆ†æ"
            const startButton = document.getElementById('startAnalysis');
            startButton.innerHTML = `
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                é‡æ–°åˆ†æ
            `;
            startButton.classList.remove('hidden');
        }

        function copyAnalysis() {
            const textToCopy = analysisData || 'åˆ†æç»“æœå·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹ä¸Šæ–¹å†…å®¹ã€‚';
            navigator.clipboard.writeText(textToCopy).then(() => {
                // ç®€å•çš„æˆåŠŸæç¤º
                const button = event.target.closest('button');
                const originalText = button.innerHTML;
                button.innerHTML = `
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    å·²å¤åˆ¶
                `;
                button.classList.add('bg-green-50', 'text-green-600');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('bg-green-50', 'text-green-600');
                }, 2000);
            }).catch(() => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å†…å®¹å¤åˆ¶');
            });
        }

        function resetAnalysis() {
            // æ¸…ç†çŠ¶æ€
            if (analysisInterval) clearInterval(analysisInterval);
            analysisData = '';
            currentEventIndex = 0;
            
            // é‡ç½®UI
            document.getElementById('emptyState').classList.remove('hidden');
            document.getElementById('progressSection').classList.add('hidden');
            document.getElementById('streamingEvents').classList.add('hidden');
            document.getElementById('finalResult').classList.add('hidden');
            document.getElementById('streamingEvents').innerHTML = '';
            
            // é‡ç½®æŒ‰é’®
            const startButton = document.getElementById('startAnalysis');
            startButton.innerHTML = `
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                </svg>
                å¼€å§‹AIåˆ†æ
            `;
            startButton.classList.remove('hidden');
        }
    </script>
</body>
</html>